webpackJsonp([6],{237:function(e,t){"use strict";function n(e,t,n,r,o){var a={method:e,mode:"cors",headers:{"Content-Type":"application/json"},body:"GET"==e?null:JSON.stringify(n)};"get"==e.toLowerCase()&&(t+=c._getSearchFromObject(n)),fetch(t,a).then(c.checkStates).then(c.parseJSON).then(function(e){r(e)}).catch(function(e){return console.log(e),401==e.state?(alert("登录过期,重新登录"),void(location.hash="login")):void(e.response&&e.response.json().then(function(e){console.log(e),e.message&&alert(e.message)}))})}function r(e,t,n,r){var o=new XMLHttpRequest;o.open("POST",e),o.onload=function(e){var t=JSON.parse(o.responseText);if(200==o.status)n(t);else{var r=t;r.message&&alert(r.message)}},o.send(t)}Object.defineProperty(t,"__esModule",{value:!0});var o="userToken",a="http://114.215.80.72:4545/",c={checkStates:function(e){if(e.ok)return e;var t=new Error(e.statusText);throw t.state=e.status,t.response=e,t},parseJSON:function(e){return e.json()},_getSearchFromObject:function(e,t){if(null==e)return"";var n="?";for(var r in e)n+=r+"="+encodeURIComponent(e[r])+"&";return n.slice(0,-1)}},i={storeToken:function(e){localStorage.setItem(o,e)},fetchToken:function(){return localStorage.getItem(o)},register:function(e,t,r){n("POST",a+"user/register",e,t,r)},login:function(e,t,r){n("POST",a+"user/login",e,t,r)},getUserInfo:function(e,t,r){n("GET",a+"user/getUserInfo",e,t,r)},uploadAvatar:function(e,t,n){r(a+"user/uploadAvatar",e,t,n)},fetchArticle:function(e,t,r){n("GET",a+"user/fetchArticle",e,t,r)}},l={pulish:function(e,t,r){n("POST",a+"article/pulish",e,t,r)},fetchList:function(e,t,r){n("GET",a+"article/fetchList",e,t,r)},fetchArticle:function(e,t,r){n("GET",a+"article/fetchArticle/"+e,null,t,r)},giveStar:function(e,t,r){n("POST",a+"article/giveStar",e,t,r)},comment:function(e,t,r){n("POST",a+"article/comment",e,t,r)}};t.UserModel=i,t.ArticleModel=l},251:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),s=r(l),u=n(237),f=n(172),h=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={list:[]},n}return c(t,e),i(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var e=this,t=u.UserModel.fetchToken(),n={userId:t};u.UserModel.fetchArticle(n,function(t){e.setState({list:t.content})},function(e){})}},{key:"render",value:function(){var e=this.state.list.map(function(e,t){return s.default.createElement("li",{className:"item-content",key:t,"data-key":e.articleId},s.default.createElement(f.Link,{to:"/create/"+e.articleId,style:{display:"block",width:"100%",height:"100%"}},s.default.createElement("div",{className:"item-inner"},s.default.createElement("div",{className:"item-title"},e.title))))});return s.default.createElement("main",null,s.default.createElement("header",{className:"bar bar-nav",style:{position:"relative"}},s.default.createElement("h1",{className:"title"},"我的文章")),s.default.createElement("div",{className:"contetn"},s.default.createElement("div",{className:"list-block"},s.default.createElement("ul",null,e))))}}]),t}(s.default.Component);e.exports=h}});